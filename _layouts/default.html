<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!-- Consider adding an manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  {% if page.description %}{% assign desc = page.description %}
  {% else %}{% assign desc = site.subtitle %}{% endif %}

  {% if page.tags %}{% assign keywords = page.tags %}
  {% else %}{% assign keywords = site.keywords %}{% endif %}

  <title>{{ site.title }} - {{ page.title }}</title>
	<meta name="description" content="{{ desc }}" />
	<meta name="keywords" content="{{ keywords | join: ", " }}" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}media/css/vendor/bootstrap.css" />
  <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}media/css/syntax/monokai.css" />
  <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}media/css/default.css" />

  <link rel="alternate" type="application/atom+xml"
        href="{{ site.baseurl }}atom.xml" title="{{ site.title }}" />

  <base href="{{ site.baseurl }}" />

  <!-- Google +1 -->
  <html itemscope itemtype="http://schema.org/Blog">
  <meta itemprop="name" content="{{ page.title }}">
  <meta itemprop="description" content="{{ desc }}">

  <!-- Facebook -->
  <meta property="og:site_name" content="{{ site.title }}" />
  <meta property="og:title" content="{{ page.title }}" />
  <meta property="og:description" content="{{ desc }}" />

  <!-- All JavaScript at the bottom, except for Modernizr / Respond. -->
  <script src="{{ site.baseurl }}media/js/vendor/modernizr-2.0.6.min.js"></script>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-container pull-center">
      <!-- Title -->
      <div class="title hidden-phone clearfix">
        <h1><a href="{{ site.baseurl }}">{{ site.title }}</a></h1>
        <p>{{ site.subtitle }}</p>
      </div>

      <!-- Navbar -->
      <div class="navbar navbar-inverse">
        <div class="navbar-inner">
          <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
          <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          <a class="brand visible-phone" href="{{ site.baseurl }}">Loose Bits</a>

          <div class="nav-collapse">
            <ul class="nav">
              <li><a class="hidden-phone" href="{{ site.baseurl }}" alt="Home">
                  <i class="icon-home icon-white"></i>
                  Home</a></li>
              <li><a href="{{ site.baseurl }}archive.html" alt="Archive">
                  <i class="icon-briefcase icon-white"></i> Archive
                  </a></li>
              <li><a href="{{ site.baseurl }}about.html" alt="About">
                  <i class="icon-user icon-white"></i> About
                  </a></li>
              <li><a href="http://twitter.com/#!/ryan_roemer" alt="Twitter">
                  <i class="icon-twitter icon-large icon-white hidden-phone"></i>
                  <span class="visible-phone"><i class="icon-twitter icon-white"></i> Twitter</span>
                  </a></li>
              <li><a href="http://www.linkedin.com/in/ryanroemer" alt="LinkedIn">
                  <i class="icon-linkedin icon-white icon-large hidden-phone"></i>
                  <span class="visible-phone"><i class="icon-linkedin icon-white"></i> LinkedIn</span>
                  </a></li>
              <li><a href="https://github.com/ryan-roemer" alt="GitHub">
                  <i class="icon-github icon-white icon-large hidden-phone"></i>
                  <span class="visible-phone"><i class="icon-github icon-white"></i> GitHub</span>
                  </a></li>
              <li><a href="http://feeds.feedburner.com/LooseBits" alt="RSS">
                  <i class="icon-rss icon-white icon-large hidden-phone"></i>
                  <span class="visible-phone"><i class="icon-rss icon-white"></i> RSS</span>
                  </a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Content -->
  <div id="container" class="container">
    <div id="main" role="main" class="row">
      <div class="span8 offset2">
        {{ content }}
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
  </footer>

  <!-- JavaScript -->
  <script src="{{ site.baseurl }}media/js/vendor/jquery-1.8.1.min.js"></script>
  <script src="{{ site.baseurl }}media/js/vendor/bootstrap-2.2.1.min.js"></script>
  <script>
    var _navClicked = false;
    $(function () {
      var defaultWidth = 700,
        lastWidth = defaultWidth;
      $(window).resize(function() {
        var newWidth = $(window).width();

        // Crossed threshold getting larger.
        if (lastWidth < newWidth &&
            lastWidth < defaultWidth &&
            defaultWidth < newWidth) {
          console.log("TODO HERE", "transitioned to default", lastWidth, newWidth);
        }

        lastWidth = newWidth;
      });

      // Fix collapse to properly open / close.
      $('.btn.btn-navbar').live('click', function () {
        // First time doesn't open correctly. Manually do this.
        // See: https://github.com/twitter/bootstrap/issues/3184
        if (!_navClicked) {
          _navClicked = true;
          $('.nav-collapse').show().collapse('show');
          return;
        }
        $('.nav-collapse').toggle();
      });

      $('.nav-collapse a[data-toggle]').click(function () {
        $('.nav-collapse').css('height', '100%');
      });
    });
  </script>
  <!-- Google Analytics -->
  <script>
    var _gaq = [['_setAccount', '{{ site.analytics }}'],
                ['_trackPageview'], ['_trackPageLoadTime']];
    (function(d,t){
      var g=d.createElement(t),
          s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s);
    }(document,'script'));
  </script>
</body>
</html>
